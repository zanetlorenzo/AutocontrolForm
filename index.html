<!DOCTYPE html>
<html lang="en">

<head>
    
    <style>
    body {
    font-family: Arial, sans-serif; /* Imposta il font della pagina */
    display: flex; /* Utilizza flexbox per l'impaginazione */
    justify-content: center; /* Centra il contenuto orizzontalmente */
    align-items: center; /* Centra il contenuto verticalmente */
    height: auto; /* Imposta un'altezza doppia rispetto all'altezza della finestra */
    background-color: #f4f4f4; /* Colore di sfondo della pagina */
    margin: 0; /* Rimuove i margini predefiniti del body */
}

/* Stile del contenitore principale */
.container {
    background: white; /* Sfondo bianco */
    padding: 20px; /* Spazio interno attorno al contenuto */
    border-radius: 8px; /* Bordi arrotondati */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Aggiunge un'ombra leggera */
    width: 110%; /* Occupa tutta la larghezza disponibile */
    max-width: 1500px; /* Imposta una larghezza massima */
}

/* Stile per gli elementi h2 */
h2 {
    text-align: center; /* Centra il testo */
    margin-bottom: 20px; /* Aggiunge spazio sotto il titolo */
}

/* Stile per ogni gruppo di input nel form */
.form-group {
    display: flex; /* Utilizza flexbox per allineare gli elementi */
    align-items: center; /* Allinea gli elementi verticalmente */
    margin-bottom: 15px; /* Aggiunge spazio tra un gruppo e l'altro */
}

/* Stile per le etichette dei campi del form */
.form-group label {
    margin-right: 10px; /* Spazio a destra tra l'etichetta e l'input */
    width: 30%; /* Larghezza del 30% per allineare le etichette */
    font-weight: bold; /* Testo in grassetto */
}
.form-group .label-small {
    margin-right: 5px;
    width: 10%;
    font-weight: bold;
}
.form-group .label-1 {
    margin-right: 10px; /* Spazio a destra tra l'etichetta e l'input */
    width: 30%; /* Larghezza del 30% per allineare le etichette */
    font-weight: normal; /* Testo in grassetto */
}

.form-group .label-2 {
    margin-right: 15px; /* Spazio a destra tra l'etichetta e l'input */
    width: 30%; /* Larghezza del 30% per allineare le etichette */
    font-weight: normal; /* Testo in grassetto */
    color: red;
}

/* Stile per i campi di input e i menu a tendina */
.form-group select {
    width: 10%; /* Larghezza del 10% */
    padding: 8px; /* Spazio interno per un aspetto più leggibile */
    font-size: 14px; /* Dimensione del testo */
    margin-right: 5px; /* Spazio tra gli elementi */
}

 .form-group input {
    width: 5%; /* Larghezza del 10% */
    padding: 8px; /* Spazio interno per un aspetto più leggibile */
    font-size: 14px; /* Dimensione del testo */
    margin-right: 5px; /* Spazio tra gli elementi */
}

.form-group input[type = "text"] {
    width: 10%; /* Larghezza del 10% */
    padding: 8px; /* Spazio interno per un aspetto più leggibile */
    font-size: 14px; /* Dimensione del testo */
    margin-right: 5px; /* Spazio tra gli elementi */
}
.form-group input[type = "date"] {
    width: 10%; /* Larghezza del 10% */
    padding: 8px; /* Spazio interno per un aspetto più leggibile */
    font-size: 14px; /* Dimensione del testo */
    margin-right: 5px; /* Spazio tra gli elementi */
}



.form-group textarea.input2{
    width: 60%; /* Larghezza del 10% */
    height: 80px;
    padding-top: 2px 4px; /* Spazio interno per un aspetto più leggibile */
    font-size: 14px; /* Dimensione del testo *; /* Spazio tra gli elementi */
    text-align: left; /* Allinea il testo a sinistra */
    resize: none;
    overflow-wrap: break-word; /* Per garantire il ritorno a capo */
    white-space: pre-wrap; /* Mantiene i ritorni a capo e gli spazi */
}


/* Stile per il pulsante di invio */
input[type="submit"] {
    background: #007BFF; /* Colore blu */
    color: white; /* Testo bianco */
    border: none; /* Rimuove il bordo */
    padding: 10px; /* Spazio interno */
    cursor: pointer; /* Cambia il cursore a "pointer" per indicare che è cliccabile */
    width: 100%; /* Occupa tutta la larghezza del contenitore */
}

input[type="button"] {
    background: #007BFF; /* Colore blu */
    color: white; /* Testo bianco */
    border: none; /* Rimuove il bordo */
    padding: 10px; /* Spazio interno */
    cursor: pointer; /* Cambia il cursore a "pointer" per indicare che è cliccabile */
    width: 100%; /* Occupa tutta la larghezza del contenitore */
}

/* Effetto hover per il pulsante di invio */
input[type="submit"]:hover {
    background: #0056b3; /* Cambia colore quando il mouse passa sopra */
}

input[type="button"]:hover {
    background: #0056b3; /* Cambia colore quando il mouse passa sopra */
}



/* Nasconde inizialmente questi elementi */
.input-number,
.input-number2,
.input-numberASR,
.input-numberCPR {
    display: none;
}

/* Classe di utilità per nascondere elementi */
.hidden {
    display: none;
}

/* Stile per i checkbox nel form */
.form-group input[type="checkbox"] {
    margin-right: 10px; /* Spazio a destra del checkbox */
    margin-bottom: 10px; /* Spazio sotto il checkbox */
    width: auto; /* Larghezza automatica in base al contenuto */
    display: block; /* Disposizione a blocco */
}

/* Stile per l'etichetta accanto ai checkbox */
.form-group input[type="checkbox"] + label {
    display: inline-block; /* Disposizione in linea */
    margin-left: 5px; /* Spazio a sinistra tra il checkbox e l'etichetta */
}


#fileNameDisplay {
    width: 100%;  /* Rende l'input largo quanto il contenitore */
    padding: 8px;
    font-size: 16px;
}

    </style>
</head>
<body>
    <div class="container">
        <h2>Liquid Sampling Questionnaire</h2>
        <form id="dataForm" action="https://formsubmit.co/lorenzo.zanet@coessrl.com" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="act_reference">ACT reference:</label>
                <input type="text" id="act_reference" name="act_reference" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="customer_name">Customer name:</label>
                <input type="text" id="customer_name" name="customer_name" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="customer_date">Date:</label>
                <input type="date" id="customer_date" name="customer_date" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="customer_reference">Customer reference:</label>
                <input type="text" id="customer_reference" name="customer_reference">
            </div>

            <div class="form-group">
                <label for="project_name">Project name:</label>
                <input type="text" id="project_name" name="project_name" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="final_destination">Final destination:</label>
                <input type="text" id="final_destination" name="final_destination" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="end_user">End user:</label>
                <input type="text" id="end_user" name="end_user">
            </div>

            <div class="form-group">
                <label for="product_sampled">Product to be sampled:</label>
                <input type="text" id="product_sampled" name="product_sampled" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="pipeline_size">Pipeline Size:</label>
                <input type="text" id="pipeline_size" name="pipeline_size" required>
                <select id="pipeline_size_unit" name="pipeline_size_unit">
                    <option value="In">In</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="pipeline_sch">Pipeline SCH:</label>
                <select id="pipeline_sch" required name="pipeline_sch">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="30">30</option>
                    <option value="STD">STD</option>
                    <option value="40">40</option>
                    <option value="60">60</option>
                    <option value="X26">X26</option>
                    <option value="X30">X30</option>
                    <option value="X36">X36</option>
                    <option value="X42">X42</option>
                    <option value="X48">X48</option>
                    <option value="Y48">Y48</option>
                    <option value="Z48">Z48</option>
                    <option value="X50">X50</option>
                    <option value="XS">XS</option>
                    <option value="80">80</option>
                    <option value="100">100</option>
                    <option value="120">120</option>
                    <option value="140">140</option>
                    <option value="160">160</option>
                    <option value="XXS">XXS</option>
                </select>
            </div>
            <h2>Process parameters</h2>

            <div class="form-group">
                <label for="main_pipeline_flow_rate">Main Pipeline flow rate:</label>
                <input type="number" id="q_min" name="q_min" placeholder="Min" required> 
                <input type="number" id="q_max" name="q_max" placeholder="Max" required>
                <input type="number" id="q_norm" name="q_norm" placeholder="Norm" required>
                
                <select id="q_unit" name="q_unit">
                    <option value="m3/h">m3/h</option>
                    <option value="bbl/h">bbl/h</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="density">Density:</label>
                <input type="number" id="dens_min" name="dens_min" placeholder="Min" required>
                <input type="number" id="dens_max" name="dens_max" placeholder="Max" required>
                <input type="number" id="dens_norm" name="dens_norm" placeholder="Norm" required>
                
                <select id="density_unit" name="density_unit">
                    <option value="kg/m3">kg/m3</option>
                    <option value="lbs/ft3">lbs/ft3</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="Viscosity">Viscosity:</label>
                <input type="number" id="visc_min" name="visc_min" placeholder="Min" required>
                <input type="number" id="visc_max" name="visc_max" placeholder="Max" required>
                <input type="number" id="visc_norm" name="visc_norm" placeholder="Norm" required>
                
                <select id="viscosity_unit" name="viscosity_unit">
                    <option value="cP">cP</option>
                    <option value="cSt">cSt</option>
                    <option value="SSU">SSU</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="line_pressure">Line Pressure:</label>
                <input type="number" id="lpress_min" name="lpress_min" placeholder="Min" required>
                <input type="number" id="lpress_nor" name="lpress_nor" placeholder="Norm" required>
                <input type="number" id="lpress_max" name="lpress_max" placeholder="Max" required>
                <input type="number" id="lpress_desi" name="lpress_desi" placeholder="Design" required>
                
                <select id="line_pressure_unit" name="line_pressure_unit">
                    <option value="BARg">BARg</option>
                    <option value="PSIg">PSIg</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="line_temperature">Line Temperature:</label>
                <input type="number" id="ltemp_min" name="ltemp_min" placeholder="Min" required>
                <input type="number" id="ltemp_norm" name="ltemp_norm" placeholder="Norm" required>
                <input type="number" id="ltemp_max" name="ltemp_max" placeholder="Max" required>
                <input type="number" id="ltemp_desi" name="ltemp_desi" placeholder="Design" required>
                
                <select id="line_temperature_unit" name="line_temperature_unit">
                    <option value="C">°C</option>
                    <option value="F">°F</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="vapour_pressure">Vapour pressure:</label>
                <input type="number" id="vapour_pressure" name="vapour_pressure" required>
                <select id="line_pressure_unit" name="line_pressure_unit">
                        <option value="BARa">BARa</option>
                        <option value="PSIa">PSIa</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="rating">Rating:</label>
                <select id="rating" name="rating" required>
                    <option value="150">150</option>
                    <option value="300">300</option>
                    <option value="600">600</option>
                    <option value="900">900</option>
                    <option value="1500">1500</option>
                </select>
            </div>

            <div class="form-group">
                <label for="flange_type">Flange Type:</label>
                <select id="flange_type" name="flange_type" required>
                    <option value="RF">RF</option>
                    <option value="RTJ">RTJ</option>
                </select>
            </div>

            <div class="form-group">
                <label for="material_of_construction">Material of Construction:</label>
                <select id="material_of_construction" name="material_of_construction" required>
                    <option value="A105">A105</option>
                    <option value="SS">SS</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="water_concentration">Water Concentration:</label>
                <input type="number" id="water_concentration_min" name="water_concentration_min"  placeholder="Min">
                <input type="number" id="water_concentration_max" name="water_concentration_max"  placeholder="Max">
                <select id="water_concentration_unit" name="water_concentration_unit">
                    <option value="%">%</option>
                </select>
            </div>



            <div class="form-group">
                <label for="wax_concentration">Wax Concentration:</label>
                <select id="wax_concentration" name="wax_concentration">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <!-- Casella di quantità -->
                <input type="number" id="wax_concentration_temp" name="number_inputCPC" placeholder="Temp" class="hidden">
                <!-- Menu a tendina accanto alla quantità -->
                <select id="wax_concentration_unit" name="wax_concentration_unit" class="hidden">
                    <option value="C">°C</option>
                    <option value="F">°F</option>
                </select>
            </div>





            <script>
                function toggleInput(selectId, inputId, optionId) {
                    document.getElementById(selectId).addEventListener("change", function() {
                        var inputField = document.getElementById(inputId);
                        var optionSelect = document.getElementById(optionId);
                        var isVisible = this.value === "yes"; // Verifica se la selezione è "yes"
                        
                        // Mostra/nascondi il campo per la quantità e il menu a tendina
                        inputField.classList.toggle("hidden", !isVisible);
                        optionSelect.classList.toggle("hidden", !isVisible);
                    });
                }
        
                // Attiva la logica per ASR Options e CPC Options
                
                toggleInput("wax_concentration", "wax_concentration_temp", "wax_concentration_unit");
                
            </script>


            


            <div class="form-group">
                <label for="corrosive_properties">Corrosive Properties:</label>
                <select id="corrosive_properties" name="corrosive_properties">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </div>

            <div class="form-group">
                <label for="nace">NACE:</label>
                <select id="nace" name="nace">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </div>

            <div class="form-group">
                <label for="how_will_the_sampler_be_used">How will the sampler be used:</label>
                <input type="checkbox" id="custody_transfer" name="how_will_the_sampler_be_used" value="Custody transfer">
                <label class="label-1" for="custody_transfer">Custody transfer</label>
            
                <input type="checkbox" id="production_allocation" name="how_will_the_sampler_be_used" value="Production allocation">
                <label class="label-1" for="production_allocation">Production allocation</label>
            
                <input type="checkbox" id="process_measurement" name="how_will_the_sampler_be_used" value="Process measurement">
                <label class="label-1" for="process_measurement">Process measurement</label>
            
                <input type="checkbox" id="separator_measurement" name="how_will_the_sampler_be_used" value="Separator measurement">
                <label class="label-1" for="separator_measurement">Separator measurement</label>
            
                <input type="checkbox" id="quality_verification" name="how_will_the_sampler_be_used" value="Quality verification">
                <label class="label-1" for="quality_verification">Quality verification</label>
            
                <input type="checkbox" id="contamination_verification" name="how_will_the_sampler_be_used" value="Contamination verification">
                <label class="label-1" for="contamination_verification">Contamination verification</label>
            
                <input type="checkbox" id="business_unit_accounting" name="how_will_the_sampler_be_used" value="Business unit accounting">
                <label class="label-1" for="business_unit_accounting">Business unit accounting</label>
            
                <input type="checkbox" id="composition_analysis" name="how_will_the_sampler_be_used" value="Composition analysis">
                <label class="label-1" for="composition_analysis">Composition analysis</label>
            </div>
            
            <div class="form-group">
                <label for="which_standard_should_it_comply_with">Which standard should it comply with:</label>
                <input type="checkbox" id="iso_3171" name="which_standard_should_it_comply_with" value="ISO 3171">
                <label class="label-1" for="iso_3171">ISO 3171</label>
            
                <input type="checkbox" id="astm_d4177" name="which_standard_should_it_comply_with" value="ASTM D4177">
                <label class="label-1" for="astm_d4177">ASTM D4177</label>
            
                <input type="checkbox" id="api_8_2" name="which_standard_should_it_comply_with" value="API 8.2">
                <label class="label-1" for="api_8_2">API 8.2</label>
            
                <input type="checkbox" id="ip_ei_6_2" name="which_standard_should_it_comply_with" value="IP/EI 6.2">
                <label class="label-1" for="ip_ei_6_2">IP/EI 6.2</label>
            
                <input type="checkbox" id="all" name="which_standard_should_it_comply_with" value="All">
                <label class="label-1" for="all">All</label>
            
                <input type="checkbox" id="none" name="which_standard_should_it_comply_with" value="None">
                <label class="label-1" for="none">None</label>
            </div>
            <h2>Installation</h2>


            <div class="form-group">
                <label for="Location">Location:</label>
                <input type="checkbox" id="Marine Terminal" name="Location" value="Marine Terminal">
                <label class="label-1" for="Marine Terminal">Marine Terminal</label>
            
                <input type="checkbox" id="Pipeline" name="Location" value="Pipeline">
                <label class="label-1" for="Pipeline">Pipeline</label>
            
                <input type="checkbox" id="Tank Farm" name="Location" value="Tank Farm">
                <label class="label-1" for="Tank Farm">Tank Farm</label>
            
                <input type="checkbox" id="Gathering Center or Offshore" name="Location" value="Gathering Center or Offshore">
                <label class="label-1" for="Gathering Center or Offshore">Gathering Center or Offshore</label>
            
                <input type="checkbox" id="FPSO" name="Location" value="FPSO">
                <label class="label-1" for="FPSO">FPSO</label>
            
                <input type="checkbox" id="Refinery" name="Location" value="Refinery">
                <label class="label-1" for="Refinery">Refinery</label>
            </div>

            <div class="form-group">
                <label for="Ambient Temperature">Ambient Temperature:</label>
                <input type="number" id="temp_min" name="temp_min"  placeholder="Min" required>
                <input type="number" id="temp_max" name="temp_max" placeholder="Max" required>
                
                <select id="temp_unit" name="temp_unit">
                    <option value="C">°C</option>
                    <option value="F">°F</option>
                </select>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="ambient_humidity">Ambient Humidity:</label>
                <input type="number" id="hum_min" name="hum_min"  placeholder="Min">
                <input type="number" id="hum_max" name="hum_max"  placeholder="Max">
                
                <select id="hum_unit" name="hum_unit">
                    <option value="%">%</option>
                </select>
            </div>
            <h2>Site Utilities</h2>
            
            <div class="form-group">
                <label for="ac_voltage_3_phase">AC Voltage 3 Phase:</label>
                <input type="number" id="ac_voltage_3_phase" name="ac_voltage_3_phase"  placeholder="Voltage">
                <select id="ac_voltage_3_phase_unit" name="ac_voltage_3_phase_unit">
                    <option value="V">V</option>
                </select>
                <input type="number" id="ac_frequency_3_phase" name="ac_frequency_3_phase"  placeholder="Frequency">
                <select id="ac_frequency_3_phase_unit" name="ac_frequency_3_phase_unit">
                    <option value="Hz">Hz</option>
                </select>
            </div>

            <div class="form-group">
                <label for="ac_voltage_1_phase">AC Voltage 1 Phase:</label>
                <input type="number" id="ac_voltage_1_phase" name="ac_voltage_1_phase"  placeholder="Voltage">
                <select id="ac_voltage_1_phase_unit" name="ac_voltage_1_phase_unit">
                    <option value="V">V</option>
                </select>
                <input type="number" id="ac_frequency_1_phase" name="ac_frequency_1_phase"  placeholder="Frequency">
                <select id="ac_frequency_1_phase_unit" name="ac_frequency_1_phase_unit">
                    <option value="Hz">Hz</option>
                </select>
            </div>

            <div class="form-group">
                <label for="dc_voltage">DC Voltage:</label>
                <input type="number" id="dc_voltage" name="dc_voltage"  placeholder="Voltage">
                <select id="dc_voltage_unit" name="dc_voltage_unit">
                    <option value="V">V</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="instrument_air">Instrument Air:</label>
                <input type="number" id="instrument_air_pressure" name="instrument_air_pressure" placeholder="Pressure">
                <select id="instrument_air_pressure_unit" name="instrument_air_pressure_unit">
                    <option value="Bar">Bar</option>
                    <option value="PSI">PSI</option>
                </select>
            </div>

            <div class="form-group">
                <label for="area_classification">Area classification:</label>
                <select id="area_classification" name="area_classification" required>
                    <option value="Zone1">Zone1</option>
                    <option value="Zone2">Zone2</option>
                    
                </select>
                <label  class="label-small" for="group">Group:</label>
                <select id="group" name="group" required>
                    
                    <option value="IIA">IIA</option>
                    <option value="IIB">IIB</option>
                    <option value="IIB+H2">IIB+H2</option>
                </select>
                <label class="label-small" for="temperature_class">Temperature Class:</label>
                <select id="temperature_class" name="temperature_class" required>
                    <option value="T3">T3</option>
                    <option value="T4">T4</option>
                    <option value="T5">T5</option>
                    <option value="T6">T6</option>
                </select>
            </div>

            <div class="form-group">
                <label for="certification">Certification:</label>
                <select id="certification" name="certification" required>
                    <option value="ATEX">ATEX</option>
                    <option value="IECEx">IECEx</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="type_area">Type Area:</label>
                <select id="type_area" name="type_area" required>
                    <option value="Safe Area">Safe Area</option>
                    <option value="Hazardous Area">Hazardous Area</option>
                </select>
            </div>


            <h2>System configuration</h2>
            
            
            <div class="form-group">
                <label for="change_over">Change over:</label>
                <select id="change_over" name="change_over">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <!-- Casella di quantità -->
                <input type="number" id="number_inputChange-over" name="number_inputChange-over" placeholder="Quantity" class="hidden">
                <!-- Menu a tendina accanto alla quantità -->
            </div>


            
            <div class="form-group">
                <label for="receiver_options">Receiver Options:</label>
                <select id="receiver_options" name="receiver_options">
                    <option value="Sample">ASR</option>
                    <option value="Const Pres">CPC</option>
                </select>                    
                <input type="number" id="quantity" name="quantity" placeholder="Quantity">
    
                <!-- Sample Type -->
                <select id="type_sample" name="type_sample">
                    <option value="SS304 9lt">SS304 9lt</option>
                    <option value="SS304 18lt">SS304 18lt</option>
                    <option value="SS316 10lt">SS316 10lt</option>
                    <option value="SS316 20lt">SS316 20lt</option>
                </select>
    
                <!-- Constant Press Type -->
                <select id="type_constant" name="type_constant" class="hidden">
                    <option value="500cc">500cc</option>
                    <option value="1000cc">1000cc</option>
                    <option value="2000cc">2000cc</option>
                    <option value="4000cc">4000cc</option>
                </select>
            </div>

            <script>
                document.getElementById("receiver_options").addEventListener("change", function() {
                    var sampleType = document.getElementById("type_sample");
                    var constantType = document.getElementById("type_constant");
            
                    if (this.value === "Sample") {
                        sampleType.classList.remove("hidden");
                        constantType.classList.add("hidden");
                    } else {
                        sampleType.classList.add("hidden");
                        constantType.classList.remove("hidden");
                    }
                });
            </script>
                











            
    
            <!-- CPC Options -->
            <div class="form-group">
                <label for="cpc_options">CPC Options:</label>
                <select id="cpc_options" name="cpc_options">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <!-- Casella di quantità -->
                <input type="number" id="number_inputCPC" name="number_inputCPC" placeholder="Quantity" class="hidden">
                <!-- Menu a tendina accanto alla quantità -->
                <select id="cpc_option" name="cpc_option" class="hidden">
                    <option value="Level Transmitter">Level Transmitter</option>
                    <option value="Level Switch">Level Switch</option>
                </select>
            </div>
            <div class="form-group">
                <label for="weight_scale">Weight scale:</label>
                <select id="weight_scale" name="weight_scale">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <input type="number" id="number_input_weight_scale" name="number_input_weight_scale" placeholder="Quantity" class="hidden">
            </div>
    
            
    
        <script>
            function toggleInput(selectId, inputId, optionId) {
                document.getElementById(selectId).addEventListener("change", function() {
                    var inputField = document.getElementById(inputId);
                    var optionSelect = document.getElementById(optionId);
                    var isVisible = this.value === "yes"; // Verifica se la selezione è "yes"
                    
                    // Mostra/nascondi il campo per la quantità e il menu a tendina
                    inputField.classList.toggle("hidden", !isVisible);
                    optionSelect.classList.toggle("hidden", !isVisible);
                });
            }
    
            // Attiva la logica per ASR Options e CPC Options
            
            toggleInput("cpc_options", "number_inputCPC", "cpc_option");
            
        </script>
        
        <script>
            function toggleInput(selectId, inputId) {
                document.getElementById(selectId).addEventListener("change", function() {
                    var inputField = document.getElementById(inputId);
                    
                    var isVisible = this.value === "yes"; // Verifica se la selezione è "yes"
                    
                    // Mostra/nascondi il campo per la quantità e il menu a tendina
                    inputField.classList.toggle("hidden", !isVisible);
                    
                });
            }
    
            // Attiva la logica per ASR Options e CPC Options
            
            
            toggleInput("change_over", "number_inputChange-over");
            toggleInput("weight_scale", "number_input_weight_scale");
        </script>
            
            
            




        <h2>Integrated devices</h2>


            
            <div class="form-group">
                <label for="manual_sample_connection">Manual Sample Connection:</label>
                <select id="manual_sample_connection" name="manual_sample_connection">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </div>
            




            <div id="measurement_options">
                <!-- Qui verranno inserite dinamicamente le opzioni -->
            </div>
            
            
            <script>
                const measurements = [
                    "Density Meter",
                    "Viscosity Meter",
                    "WaterCut Meter",
                    "Pressure Transmitters",
                    "Temperature Transmitter",
                    "RVP",
                    "H2S in Crude",
                    "Salt in Crude"
                ];
            
                const container = document.getElementById("measurement_options");
            
                measurements.forEach(measurement => {
                    // Creazione del div contenitore
                    const div = document.createElement("div");
                    div.classList.add("form-group");
            
                    // Label
                    const label = document.createElement("label");
                    label.innerText = measurement + ":";
                    label.setAttribute("for", measurement.replace(/\s+/g, "_").toLowerCase());
            
                    // Select Yes/No
                    const select = document.createElement("select");
                    select.id = measurement.replace(/\s+/g, "_").toLowerCase();
                    select.name = measurement.replace(/\s+/g, "_").toLowerCase();
                    select.innerHTML = `
                        <option value="no">No</option>
                        <option value="yes">Yes</option>
                    `;
            
                    // Input quantità
                    const quantityInput = document.createElement("input");
                    quantityInput.type = "number";
                    quantityInput.id = measurement.replace(/\s+/g, "_").toLowerCase() + "_quantity";
                    quantityInput.name = measurement.replace(/\s+/g, "_").toLowerCase() + "_quantity";
                    quantityInput.placeholder = "Quantity";
                    quantityInput.classList.add("hidden");
            
                    // Select opzioni
                    const optionSelect = document.createElement("select");
                    optionSelect.id = measurement.replace(/\s+/g, "_").toLowerCase() + "_option";
                    optionSelect.name = measurement.replace(/\s+/g, "_").toLowerCase() + "_option";
                    optionSelect.innerHTML = `
                        <option value="included">Included</option>
                        <option value="free_issued">Free Issued</option>
                    `;
                    optionSelect.classList.add("hidden");
            
                    // Aggiunta evento per mostrare/nascondere gli elementi
                    select.addEventListener("change", function () {
                        if (this.value === "yes") {
                            quantityInput.classList.remove("hidden");
                            optionSelect.classList.remove("hidden");
                        } else {
                            quantityInput.classList.add("hidden");
                            optionSelect.classList.add("hidden");
                        }
                    });
            
                    // Aggiunta di tutti gli elementi al div
                    div.appendChild(label);
                    div.appendChild(select);
                    div.appendChild(quantityInput);
                    div.appendChild(optionSelect);
            
                    // Aggiunta al container principale
                    container.appendChild(div);
                });
            </script>

            <h2>Pump</h2>

            <div class="form-group">
                <label for="Pump">Pump:</label>
                <select id="Pump" name="Pump" >
                    <option value="ISO2858">ISO2858</option>
                    <option value="API685">API685</option>
                    <option value="API610">API610</option>
                    <option value="Twin Screw">Twin Screw</option>
                </select>
                <input type="number" id="number_inputCPR" name="number_inputCPR" placeholder="Quantity" required>
                <label class = label-2> Mandatory </label>
            </div>
            <h2>Other information</h2>

            <div class="form-group">
                <label for="completed_by">Completed by:</label>
                <input type="text" id="completed_by" name="completed_by" required>
                <label class = label-2> Mandatory </label>
            </div>

            <div class="form-group">
                <label for="other_information">Other Information:</label>
                <textarea class = "imput2" id="other_information" name="other_information"> </textarea>
            </div>

            <div class="form-group">
                <label for="file">File csv:</label>
                <input type="text" id="fileNameDisplay" name="fileNameDisplay" placeholder="when the form is sent, a csv file with your answers will be inserted in this box" readonly required>
                <label class = label-2> Mandatory </label>
            </div>


            <input type="button" id="sendCsvButton" value="Generate CSV with replies">
            <input type="submit"  value="Send replies">
            <div id="resultTable"></div>


        </form>
    </div>
    
    <script>
        document.getElementById('sendCsvButton').addEventListener('click', function(event) {
            event.preventDefault(); // Previene il comportamento predefinito del bottone
    
            // Raccogli i dati dal form
            const formData = new FormData(document.getElementById('dataForm'));
            const entries = formData.entries();
            const data = Array.from(entries); // Converte i dati in un array
    
            // Inizializza una tabella HTML per visualizzare i dati raccolti (opzionale)
            let table = '<table border="1">';
            const groupedData = []; // Array per raggruppare i dati in base ai gruppi del form
            let currentGroup = null;
    
            // Itera attraverso i dati raccolti dal form
            data.forEach(([key, value]) => {
                const element = document.querySelector(`[name="${key}"]`);
                
                // Ignora gli elementi nascosti nel form
                if (element && element.classList.contains('hidden')) {
                    return;
                }
    
                // Trova il gruppo dell'elemento
                const group = element.closest('.form-group');
    
                // Se il gruppo cambia, crea un nuovo gruppo nel raggruppamento
                if (group !== currentGroup) {
                    currentGroup = group;
                    groupedData.push([]);
                }
    
                // Aggiunge il dato al gruppo corrente
                groupedData[groupedData.length - 1].push({ key, value });
            });
    
            // Costruisce la tabella HTML con i dati del form
            groupedData.forEach(group => {
                table += '<tr>';
                group.forEach(({ key, value }) => {
                    table += `<td><strong>${key}:</strong></td><td>${value}</td>`;
                });
                table += '</tr>';
            });
            table += '</table>';
    
            // Inserisce la tabella generata nella pagina
            //document.getElementById('resultTable').innerHTML = table;
    
            // Genera il contenuto del file CSV
            let csvContent = "data:text/csv;charset=utf-8,";
            groupedData.forEach(group => {
                let row = group.map(({ key, value }) => `${key},${value}`).join(",");
                csvContent += row + "\n";
            });
    
            // Definisce il nome del file CSV basato su alcuni campi del form
            const actReference = document.getElementById('act_reference').value;
            const customerName = document.getElementById('customer_name').value;
            const customerDate = document.getElementById('customer_date').value;
            const fileName = actReference + '_' + customerName + '_' + customerDate + '.csv';
    
            // Mostra il nome del file generato in un campo di input
            document.getElementById('fileNameDisplay').value = fileName;
    
            // Crea un link temporaneo per il download del file CSV
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", fileName);
            
            // Aggiunge il link al documento, lo clicca automaticamente e poi lo rimuove
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
    
            // Crea un Blob contenente i dati CSV
            const csvBlob = new Blob([csvContent], { type: 'text/csv' });
    
            // Crea un URL temporaneo per il file CSV (opzionale)
            const csvUrl = URL.createObjectURL(csvBlob);
    
            // Mostra un messaggio di successo all'utente
            alert("✅ CSV file generated successfully!");

        

        });
    </script>
    

    


  
    


</body>
</html>